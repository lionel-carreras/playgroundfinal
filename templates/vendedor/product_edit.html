{% extends "base/base.html" %}
{% load static %}

{% block title %}Editar {{ product.titulo }}{% endblock %}

{% block content %}
<div class="container my-5" style="max-width: 600px;">
  <h2 class="mb-4">Editar Producto</h2>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-3">
      <label for="{{ form.titulo.id_for_label }}" class="form-label">Título</label>
      {{ form.titulo }}
      {{ form.titulo.errors }}
    </div>

    <div class="mb-3">
      <label for="{{ form.descripcion.id_for_label }}" class="form-label">Descripción</label>
      {{ form.descripcion }}
      {{ form.descripcion.errors }}
    </div>

    <div class="mb-3">
      <label for="{{ form.categoria.id_for_label }}" class="form-label">Categoría</label>
      {{ form.categoria }}
      {{ form.categoria.errors }}
    </div>

    <div class="row gx-2 mb-3">
      <div class="col">
        <label for="{{ form.precio.id_for_label }}" class="form-label">Precio</label>
        {{ form.precio }}
        {{ form.precio.errors }}
      </div>
      <div class="col">
        <label for="{{ form.stock.id_for_label }}" class="form-label">Stock</label>
        {{ form.stock }}
        {{ form.stock.errors }}
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Imagen Actual</label><br>
      <img src="{{ product.imagen.url }}" alt="{{ product.titulo }}"
           class="img-thumbnail mb-2" style="max-width: 200px;">
    </div>

    <div class="mb-3">
      <label for="{{ form.imagen.id_for_label }}" class="form-label">Cambiar imagen</label>
      {{ form.imagen }}
      {{ form.imagen.errors }}
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-success">
        <i class="fa fa-save me-1"></i>Guardar Cambios
      </button>
      <a href="{% url 'products:publicaciones' %}" class="btn btn-secondary">
        <i class="fa fa-arrow-left me-1"></i>Volver
      </a>
    </div>
  </form>
</div>
{% endblock %}
